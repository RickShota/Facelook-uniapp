(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{1825:function(t,n,o){},3549:function(t,n,o){"use strict";o.d(n,"b",(function(){return u})),o.d(n,"c",(function(){return i})),o.d(n,"a",(function(){return e}));var e={uniNavBar:function(){return o.e("uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar").then(o.bind(null,"24b2"))}},u=function(){var t=this,n=t.$createElement;t._self._c},i=[]},"3e1d":function(t,n,o){"use strict";o.r(n);var e=o("ef30"),u=o.n(e);for(var i in e)"default"!==i&&function(t){o.d(n,t,(function(){return e[t]}))}(i);n["default"]=u.a},4562:function(t,n,o){"use strict";(function(t){o("1676");e(o("66fd"));var n=e(o("ff03"));function e(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=o,t(n.default)}).call(this,o("543d")["createPage"])},ef30:function(t,n,o){"use strict";(function(t){function e(t){return s(t)||r(t)||i(t)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,n){if(t){if("string"===typeof t)return c(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(t,n):void 0}}function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function s(t){if(Array.isArray(t))return c(t)}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,e=new Array(n);o<n;o++)e[o]=t[o];return e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){o.e("uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar").then(function(){return resolve(o("24b2"))}.bind(null,o)).catch(o.oe)},p=[{username:"Rick Henry",userpic:"/static/default/defUser.png",newstime:"2022-05-24 上午 11:31",isFollow:!1,title:"测试数据，这是一个标题",titlepic:"/static/demo/banner1.jpg",content:"",support:{type:"support",support_count:123,unsupport_count:0},comment_count:4,share_num:2},{username:"昵称2",userpic:"/static/default/defUser.png",newstime:"2020-05-24 上午 11:31",isFollow:!0,title:"测试数据，这是一个标题2",titlepic:"",support:{type:"unsupport",support_count:0,unsupport_count:5},comment_count:4,share_num:0},{username:"昵称3",userpic:"/static/default/defUser.png",newstime:"2020-05-24 上午 11:31",isFollow:!1,title:"测试数据，这是一个标题3",titlepic:"/static/demo/demo2.jpg",support:{type:"",support_count:1,unsupport_count:5},comment_count:0,share_num:4},{username:"昵称4",userpic:"/static/default/defUser.png",newstime:"2020-05-24 上午 11:31",isFollow:!1,title:"这是一个标题4",titlepic:"/static/demo/banner2.jpg",support:{type:"",support_count:0,unsupport_count:0},comment_count:0,share_num:4}],l=function(){o.e("components/common/news-item").then(function(){return resolve(o("56e0"))}.bind(null,o)).catch(o.oe)},f=function(){o.e("components/common/load-more").then(function(){return resolve(o("1f53"))}.bind(null,o)).catch(o.oe)},d={components:{newsItem:l,loadMore:f,uniNavBar:a},data:function(){return{isLog:!1,tabIndex:1,scrollInto:"",scrollH:600,loadMore:"上拉加载更多",newsList:[]}},onNavigationBarButtonTap:function(n){1===n.index?t.navigateTo({url:"../search/search",animationType:"fade-in",success:function(t){},fail:function(){},complete:function(){}}):this.gotoTopic()},onLoad:function(){var n=this;t.getSystemInfo({success:function(t){n.scrollH=t.windowHeight-44-t.statusBarHeight}}),this.getData()},onShow:function(){try{var n=t.getStorageSync("token");"ok"===n?(console.log(n),this.isLog=!0):"sos"===n&&(this.isLog=null)}catch(o){console.log(o.message)}},methods:{gotoLogin:function(){t.navigateTo({url:"../login/login",animationType:"slide-in-bottom"})},gotoTopic:function(){!0===this.isLog?t.navigateTo({url:"../topic/topic",animationType:"slide-in-right",success:function(t){},fail:function(){},complete:function(){}}):null===this.isLog?t.showToast({icon:"error",title:"该服务已下线"}):t.showToast({icon:"error",title:"请登录后操作"})},shareNews:function(){!0===this.isLog?t.navigateTo({url:"../add-input/add-input",animationType:"slide-in-bottom",success:function(t){},fail:function(){},complete:function(){}}):null===this.isLog?t.showToast({icon:"error",title:"该服务已下线"}):t.showToast({icon:"error",title:"请登录后操作"})},getData:function(){this.newsList=p},onfollow:function(t){this.newsList[t].isFollow=!this.newsList[t].isFollow},doSupport:function(t){var n=this.newsList[t.index];if(n.support.support_count>=0&&n.support.unsupport_count>=0)switch(n.support.type){case"":n.support.type=t.type,n.support[t.type+"_count"]++;break;case"support":"unsupport"===t.type?(n.support.type="unsupport",n.support.support_count--,n.support.unsupport_count++):(n.support.type="",n.support.support_count--);break;case"unsupport":"support"===t.type?(n.support.type="support",n.support.support_count++,n.support.unsupport_count--):(n.support.type="",n.support.unsupport_count--);break}},loadmore:function(){var t=this;"上拉加载更多"===this.loadMore&&(this.loadMore="加载中...",setTimeout((function(){t.newsList=[].concat(e(t.newsList),e(t.newsList)),t.loadMore="上拉加载更多"}),2e3))}}};n.default=d}).call(this,o("543d")["default"])},f63f:function(t,n,o){"use strict";var e=o("1825"),u=o.n(e);u.a},ff03:function(t,n,o){"use strict";o.r(n);var e=o("3549"),u=o("3e1d");for(var i in u)"default"!==i&&function(t){o.d(n,t,(function(){return u[t]}))}(i);o("f63f");var r,s=o("f0c5"),c=Object(s["a"])(u["default"],e["b"],e["c"],!1,null,"47d9e73b",null,!1,e["a"],r);n["default"]=c.exports}},[["4562","common/runtime","common/vendor"]]]);